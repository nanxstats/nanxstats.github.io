<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> Rethinking the Word Cloud Generator - Nan Xiao | 肖楠 </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="Discover the interactive word cloud generator, an enhanced fork of Jason Davies&#39; original project. Learn how the tool enables improved word cloud visualizations with additional features like color palettes, operating system-specific fonts, and sensible default values. Explore a streamlined, quality-focused SVG to PNG conversion workflow.
" />
    <meta property="og:site_name" content="Nan Xiao | 肖楠" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://nanx.me/blog/post/rethinking-word-cloud-generator/" />
    <meta property="og:title" content="Rethinking the Word Cloud Generator" />
    <meta property="og:image" content="https://nanx.me/image/chatgpt-release-notes-wordcloud.png" />
    <meta property="og:description" content="Discover the interactive word cloud generator, an enhanced fork of Jason Davies&#39; original project. Learn how the tool enables improved word cloud visualizations with additional features like color palettes, operating system-specific fonts, and sensible default values. Explore a streamlined, quality-focused SVG to PNG conversion workflow.
" />

    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:site" content="@nanxstats">
    <meta name="twitter:creator" content="@nanxstats">
    
    <meta name="twitter:title" content="Rethinking the Word Cloud Generator" />
    <meta name="twitter:description" content="Discover the interactive word cloud generator, an enhanced fork of Jason Davies&#39; original project. Learn how the tool enables improved word cloud visualizations with additional features like color palettes, operating system-specific fonts, and sensible default values. Explore a streamlined, quality-focused SVG to PNG conversion workflow.
" />
    <meta name="twitter:image" content="https://nanx.me/image/chatgpt-release-notes-wordcloud.png" />

    <link rel="canonical" href="https://nanx.me/blog/post/rethinking-word-cloud-generator/">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" integrity="sha512-t4GWSVZO1eC8BM339Xd7Uphw5s17a86tIZIj8qRxhnKub6WoyhnrxeCIMeAqBPgdZGlCcG2PrZjMc+Wr78+5Xg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="https://nanx.me/css/custom.css" />

    
    <link rel="stylesheet" href="https://nanx.me/css/textmate.css" />
    

    

    <link rel="shortcut icon"
        href="https://nanx.me/image/favicon.png">

    
</head>

<body>
    
<div class="my-4 my-lg-5 header">
    <div class="container">
        <div class="row justify-content-center">
            <div class="mx-auto w-700">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0">
                        
                        <a href="https://nanx.me/">
                            <img class="logo img-fluid d-block rounded-circle img-thumbnail shadow-sm"
                                src="https://nanx.me/image/nanxiao.jpg" alt="Portrait of Nan Xiao">
                        </a>
                        
                    </div>
                    <div class="flex-grow-1 ms-3">
                        <a href="https://nanx.me/">
                            <h1 class="name">Nan Xiao</h1>
                        </a>

                        <ul class="nav nav-primary">
                            
                            
                            <li class="nav-item">
                                <a class="nav-link text-blog active"
                                    href="https://nanx.me/blog/">
                                    
                                    Blog
                                </a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link text-software"
                                    href="https://nanx.me/software/">
                                    
                                    Software
                                </a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link text-papers"
                                    href="https://nanx.me/papers/">
                                    
                                    Papers
                                </a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link text-talks"
                                    href="https://nanx.me/talks/">
                                    
                                    Talks
                                </a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link text-books"
                                    href="https://nanx.me/books/">
                                    
                                    Books
                                </a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link text-about"
                                    href="https://nanx.me/about/">
                                    
                                    About
                                </a>
                            </li>
                            
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="content">
    <div class="container">
        <div class="row justify-content-center">
            <div class="mx-auto w-700">
                <h1 class="blog-post-title">Rethinking the Word Cloud Generator</h1>

                <div class="mb-md-4 meta">
                    
                    
                    <span class="author" title="Nan Xiao">
                        Nan Xiao
                    </span>
                    
                    

                    <span class="date middot" title='Mon Jun 19 2023 18:00:00 UTC'>
                        2023-06-19
                    </span>

                    <span class="reading-time middot">
                        4 min read
                    </span>

                    <div class="d-none d-md-block mt-2 tags">
                        <ul class="list-unstyled d-inline">
                            
                            <li class="d-inline">
                                <a href="https://nanx.me/tags/word-cloud">word cloud</a>
                            </li>
                            
                            <li class="d-inline">
                                <a href="https://nanx.me/tags/data-visualization">data visualization</a>
                            </li>
                            
                            <li class="d-inline">
                                <a href="https://nanx.me/tags/color-scales">color scales</a>
                            </li>
                            
                            <li class="d-inline">
                                <a href="https://nanx.me/tags/software-architecture">software architecture</a>
                            </li>
                            
                        </ul>
                    </div>

                    <div class="d-none d-md-inline tags">
                        <ul class="list-unstyled d-inline">
                            
                            
                        </ul>
                    </div>
                </div>

                <div class="markdown blog-post-content">
                    
    


<p>As part of my JavaScript learning journey, I created a fork of
<a href="https://www.jasondavies.com/wordcloud/">Jason Davies’ word cloud generator</a>
and added some new features with a few adjustments to the default parameters.
The fork is hosted at <a href="https://nanx.me/wordcloud/">nanx.me/wordcloud/</a> and
the source code is available on <a href="https://github.com/nanxstats/wordcloud">GitHub</a>.
Here is an example word cloud produced by the generator:</p>
<div class="float">
<img src="https://nanx.me/image/chatgpt-release-notes-wordcloud.png" alt="A word cloud visualization for ChatGPT release notes produced by the generator with default parameters. Font: Founders Grotesk Condensed Regular (included with macOS)." />
<div class="figcaption">A word cloud visualization for <a href="https://help.openai.com/en/articles/6825453-chatgpt-release-notes">ChatGPT release notes</a> produced by the generator with default parameters. Font: Founders Grotesk Condensed Regular (included with macOS).</div>
</div>
<p>You can use this tool to create word cloud visualizations by simply pasting
text and clicking the “Go” button until a satisfactory layout is produced,
then export the result as a SVG image for further editing.
Like the <a href="https://nanx.me/blog/post/gpu-selector/">deep learning GPU selector</a>,
it is a pure client-side JavaScript solution and does not require any
server-side processing.</p>
<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>Text data is more challenging to visualize without
<a href="https://doi.org/10.3115/v1/W14-3110">explicit modeling</a>
because of its unstructured nature compared to tabular data.
Although sometimes controversial, word clouds are a common visualization
method for text data. Owing to their popularity, you can find implementations
for drawing word clouds in practically any programming language or
visualization library. However, many of the existing implementations
do not have the layout quality or aesthetic appeal that I am looking for,
at least not without extensive parameter tuning efforts.</p>
</div>
<div id="solution" class="section level2">
<h2>Solution</h2>
<p>A few years back, Jason Davies launched an outstanding
<a href="https://www.jasondavies.com/wordcloud/">word cloud generator</a> built on D3.js,
a JavaScript library for creating dynamic, interactive data visualizations.
Its layout algorithm, input parameter design, and user interface details
make it one of the most satisfactory implementations in my opinion.
However, as the original application has matured over the years,
it appeared to be missing some essential options and a few default values
could use an update.</p>
<p>With this in mind, I created the forked version. The most visible changes
are on colors, typefaces, and default values:</p>
<ul>
<li>Add a color palette selection feature, offering a wide range of options
from Tableau, Viridis, ColorBrewer, ggplot2, D3, Okabe-Ito, Gephi, and FlatUI.</li>
<li>Use a default font based on user’s operating system.
<ul>
<li>macOS: Avenir Next Condensed Medium</li>
<li>Windows: Franklin Gothic Medium</li>
<li>Linux: Liberation Sans Bold</li>
</ul></li>
<li>Update the default values for graphical parameter inputs.
<ul>
<li>Number of text orientations: from 5 to 2.</li>
<li>Text angle range (from): from -60° to -90°.</li>
<li>Text angle range (to): from 60° to 0°.</li>
</ul></li>
</ul>
<p>For the detailed changeset, check out the
<a href="https://github.com/nanxstats/wordcloud">GitHub repository</a>.</p>
</div>
<div id="appendix-command-line-workflow-to-convert-svg-to-png" class="section level2">
<h2>Appendix: Command-line workflow to convert SVG to PNG</h2>
<p>Once you have tried different layouts and downloaded <code>wordcloud.svg</code>, it is useful to convert the SVG image to a high-quality,
optimized PNG image for further use because not all applications can render or
embed SVG images consistently. Note that this workflow might not be the one
with the least number of steps or most automated, but emphasizes conversion
quality and robustness.</p>
<ol style="list-style-type: decimal">
<li><p>Convert SVG to PDF.</p>
<p>Open the SVG file in the web browser and print it into a PDF file
<code>wordcloud.pdf</code>. For large-scale conversion tasks, you can automate
this step by using headless browsers, for example, via tools like
<a href="https://nanx.me/blog/post/chromote-pdf-automation/">chromote</a>.</p>
<p>To accurately print the SVG with the preferred typeface, make sure
that your operating system has the specified font installed.
The SVG image, in this case, does not embed the font as data or polygons.</p></li>
<li><p>Crop the PDF.</p>
<p>Use <code>pdfcrop</code> to crop the PDF image to remove the white margins:</p>
<pre class="bash"><code>pdfcrop wordcloud.pdf</code></pre>
<p>This will create a cropped PDF file <code>wordcloud-crop.pdf</code>.
<code>pdfcrop</code> is a command-line tool that comes with TeX Live.</p></li>
<li><p>Convert PDF to PNG.</p>
<p>Use ImageMagick to convert the PDF image to a PNG image in 300 DPI:</p>
<pre class="bash"><code>convert -density 300 wordcloud-crop.pdf wordcloud.png</code></pre></li>
<li><p>Compress the PNG image.</p>
<p>Use <code>pngquant</code> to compress the PNG image:</p>
<pre class="bash"><code>pngquant wordcloud.png</code></pre>
<p>This will create a compressed PNG file <code>wordcloud-fs8.png</code>.</p></li>
</ol>
<p>Finally, for macOS users, you can install all the mentioned command-line tools
using Homebrew with the following commands:</p>
<pre class="bash"><code>brew install imagemagick pngquant
brew install --cask mactex</code></pre>
</div>



                </div>

                
                <div class="navigation">
                    <div class="row">
                        <div class="col-sm-12 col-lg-6">
                            
                            <div class="mt-4 text-start">
                                <a href="https://nanx.me/blog/post/r-package-release-checklist/">« Context-Free R Package Release Checklist Generation with usethis</a>
                            </div>
                            
                        </div>
                        <div class="col-sm-12 col-lg-6">
                            
                            <div class="mt-4 text-end">
                                <a href="https://nanx.me/blog/post/research-word-cloud/">Create Engaging Word Cloud Visualizations from Your Research »</a>
                            </div>
                            
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>

<section id="comments">
    <div class="py-3 content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="mx-auto w-700">
                    <div class="comments">
                        <script src="https://utteranc.es/client.js" repo="nanxstats/blog-comments"
                            issue-term="pathname" label="comment" theme="github-light" crossorigin="anonymous" async>
                            </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<div class="footer mt-5">
    <div class="container">

        <div class="row justify-content-center">
            <div class="mx-auto w-700">
                <hr>
            </div>
        </div>

        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="github" viewBox="0 0 16 16">
                <path
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
            </symbol>
            <symbol id="linkedin" viewBox="0 0 16 16">
                <path
                    d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />
            </symbol>
            <symbol id="twitter" viewBox="0 0 16 16">
                <path
                    d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z" />
            </symbol>
            <symbol id="mastodon" viewBox="0 0 16 16">
                <path
                    d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z" />
            </symbol>
            <symbol id="octicons-rss" viewBox="0 0 16 16">
                <path
                    d="M2.002 2.725a.75.75 0 0 1 .797-.699C8.79 2.42 13.58 7.21 13.974 13.201a.75.75 0 0 1-1.497.098 10.502 10.502 0 0 0-9.776-9.776.747.747 0 0 1-.7-.798ZM2.84 7.05h-.002a7.002 7.002 0 0 1 6.113 6.111.75.75 0 0 1-1.49.178 5.503 5.503 0 0 0-4.8-4.8.75.75 0 0 1 .179-1.489ZM2 13a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z">
                </path>
            </symbol>
            <symbol id="octicons-terminal" viewBox="0 0 16 16">
                <path
                    d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.749.749 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53Zm1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5Z">
                </path>
            </symbol>
        </svg>

        <div class="row justify-content-center">
            <div class="mx-auto w-700">
                
                <div class="site-copyright">
                    © 2024 Nan Xiao. All rights reserved.
                </div>
                
            </div>
        </div>
        <div class="row justify-content-center mt-2 mb-5">
            <div class="mx-auto w-700">
                <div class="site-social">
                    <ul>
                        

                        
                        <li><a href="https://github.com/nanxstats" target="_blank" rel="noopener">
                                <svg class="svg-icon mr-1">
                                    <use xlink:href="#github"></use>
                                </svg> @nanxstats</a></li>
                        

                        

                        

                        
                        <li><a href="https://www.linkedin.com/in/nanxstats" target="_blank"
                                rel="noopener">
                                <svg class="svg-icon mr-1">
                                    <use xlink:href="#linkedin"></use>
                                </svg> @nanxstats</a></li>
                        

                        
                        <li><a href="https://twitter.com/nanxstats" target="_blank" rel="noopener">
                                <svg class="svg-icon mr-1">
                                    <use xlink:href="#twitter"></use>
                                </svg> @nanxstats</a></li>
                        

                        

                        
                        <li><a href="https://nanx.me/colophon/">
                                <svg class="svg-icon mr-1">
                                    <use xlink:href="#octicons-terminal"></use>
                                </svg>
                                Colophon</a></li>
                        

                        

                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


    

    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js" integrity="sha512-gU7kztaQEl7SHJyraPfZLQCNnrKdaQi5ndOyt4L4UPL/FHDd/uB9Je6KDARIqwnNNE27hnqoWLBq+Kpe4iHfeQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/languages/r.min.js" defer></script>
        
        <script>
            window.addEventListener('load', function() {
                hljs.highlightAll();
            }, true);
        </script>
    

    

    
    
        

    
</body>

</html>
