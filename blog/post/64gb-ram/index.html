<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> 64GB RAM - Nan Xiao | 肖楠 </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="" />
    <meta property="og:site_name" content="Nan Xiao | 肖楠" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://nanx.me/blog/post/64gb-ram/" />
    <meta property="og:title" content="64GB RAM" />
    <meta property="og:image" content="https://nanx.me/image/64gb-ram-installed.jpg" />
    <meta property="og:description" content="" />

    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:site" content="@nanxstats">
    <meta name="twitter:creator" content="@nanxstats">
    
    <meta name="twitter:title" content="64GB RAM" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:image" content="https://nanx.me/image/64gb-ram-installed.jpg" />

    <link rel="canonical" href="https://nanx.me/blog/post/64gb-ram/">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous" />

    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://nanx.me/css/custom.css" />

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/tomorrow.min.css" integrity="sha512-Uw7K7aQ4lqcUVvnUvFZTKOp15o2G7Nf7XZEYuPx6A4VPNPI/gIJjViRW/PswhtB/KAHWuCid8SZgpBHrLE1eFw==" crossorigin="anonymous" />
    

    

    <link rel="shortcut icon"
        href="https://nanx.me/image/favicon.png">

    
    <link href="https://nanx.me/index.xml" rel="alternate" type="application/rss+xml" title="Nan Xiao | 肖楠" />
    
</head>

<body>
    
    <div class="my-4 my-lg-5 header">
    <div class="container">
        <div class="row">
            <div class="col-auto offset-lg-2 d-none d-lg-block">
                
                    <a href="https://nanx.me/">
                        <img class="ml-lg-4 logo img-fluid d-block rounded-circle" src="https://nanx.me/image/nanxiao.jpg" alt="logo">
                    </a>
                
            </div>
            <div class="col-auto align-self-center mr-auto">
                <a href="https://nanx.me/">
                    <h1 class="name">Nan Xiao</h1>
                </a>

                <ul class="nav nav-primary">
                    
                        <li class="nav-item">
                            <a class="nav-link text-blog" href="https://nanx.me/blog/">
                                
                                Blog
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link text-software" href="https://nanx.me/software/">
                                
                                Software
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link text-papers" href="https://nanx.me/papers/">
                                
                                Papers
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link text-talks" href="https://nanx.me/talks/">
                                
                                Talks
                            </a>
                        </li>
                    
                        <li class="nav-item">
                            <a class="nav-link text-books" href="https://nanx.me/books/">
                                
                                Books
                            </a>
                        </li>
                    

                    
                </ul>

            </div>
        </div>
    </div>
</div>


    <div class="content">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-sm-12 col-lg-8">
                    <h1 class="mx-0 mx-md-4 blog-post-title">64GB RAM</h1>

                    <div class="mb-md-4 meta">
                        
                            
                                <span class="author" title="Nan Xiao">
                                    Nan Xiao
                                </span>
                            
                        

                        <span class="date middot" title='Tue Jun 11 2019 22:30:00 UTC'>
                            2019-06-11
                        </span>

                        <span class="reading-time middot">
                            2 minute read
                        </span>

                        <div class="d-none d-md-inline tags">
                            <ul class="list-unstyled d-inline">
                                
                                    <li class="d-inline middot">
                                        <a href="https://nanx.me/tags/buildapc">buildapc</a>
                                    </li>
                                
                            </ul>
                        </div>

                        <div class="d-none d-md-inline tags">
                            <ul class="list-unstyled d-inline">
                                
                                
                            </ul>
                        </div>
                    </div>

                    <div class="markdown blog-post-content">
                        
    
<script src="https://nanx.me/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>In 2018, I <a href="https://nanx.me/blog/post/building-my-first-deep-learning-machine/">built a PC</a> to train models with GPU. Besides the GPU, <a href="https://pcpartpicker.com/user/nanx999/saved/NZwzYJ">the machine</a> has a 6-core (12 threads) CPU and 32GB of RAM. The hardware was nothing fancy compared to a lot of deep learning builds but gets the job done.</p>
<p>Recently, I experienced an issue that probably all R users experienced: running out of memory. Not for training neural networks, but for training some more traditional statistical learning models. It’s often not worth the time to further “optimize” the memory usage because the algorithms will require some large matrices to be held in memory constantly and the fork-based parallelization will copy them as many times as you increase the number of CPU cores used.</p>
<p>That’s when I decided to upgrade the RAM to 64GB — maxing out the 4 RAM slots on the Z370 motherboard.</p>
<p>One immediate issue for the upgrade is that the CPU air cooler I used was too large and its lowest point blocks one of the RAM slots. If I reinstall the cooler in another direction, it blocks the GPU or something else.</p>
<div class="figure">
<img src="https://nanx.me/image/64gb-air-cooler-blocks-ram-slot.jpg" alt="" />
<p class="caption">The air cooler blocks one RAM slot. In fact, this is a common issue.</p>
</div>
<p>My solution is simple — replace the air cooler with an AIO (all-in-one) liquid CPU cooler. The liquid cooler will only cover the CPU with a small “cap” so it doesn’t take much of the space around it.</p>
<div class="figure">
<img src="https://nanx.me/image/64gb-ram-cooler.jpg" alt="" />
<p class="caption">The additional 32GB RAM and the AIO liquid cooler.</p>
</div>
<p>The CPU cooler is among the very first things we install to the motherboard. It’s a fun process to take almost everything off the motherboard, fit in the new RAM, install the new cooler, and then put everything back. Anyways, installing the liquid cooler itself was much easier than I thought, even easier than the air cooler. No liquid leaked at all.</p>
<div class="figure">
<img src="https://nanx.me/image/64gb-ram-installed.jpg" alt="" />
<p class="caption">New RAM (red) inserted.</p>
</div>
<p>Light it up and say hello to the 62.8G RAM.</p>
<div class="figure">
<img src="https://nanx.me/image/64gb-finished-test.jpg" alt="" />
<p class="caption">htop works.</p>
</div>
<p>The lesson is, consider the size of the CPU cooler and decide the right type for your build from the beginning.</p>
<p>I think I’m good for today. In the future, if we really need some 128GB of RAM, we have to switch to an X299 (Intel) or X399 (AMD) motherboard which has 8 RAM slots. We probably will also need a super high-end desktop CPU with even more cores (~30 threads?) to work with the memory of that size. Or… simply rent an on-demand instance on the cloud.</p>



                    </div>

                    
                        <div class="navigation">
                            <div class="row">
                                <div class="col-12 col-lg-6">
                                    
                                        <div class="mx-0 mx-md-4 mt-4 text-left">
                                            <a href="https://nanx.me/blog/post/remove-google-analytics/">« Removing Google Analytics from All My Websites</a>
                                        </div>
                                    
                                </div>
                                <div class="col-12 col-lg-6">
                                    
                                        <div class="mx-0 mx-md-4 mt-4 text-right">
                                            <a href="https://nanx.me/blog/post/peak-experience/">Peak Experience »</a>
                                        </div>
                                    
                                </div>
                            </div>
                        </div>
                    
                </div>
            </div>
        </div>
    </div>

    <section id="comments">

      <div class="py-3 content">
            <div class="container">
                  <div class="row justify-content-center">
                        <div class="col-sm-12 col-lg-8">
                              <div class="comments">
                                    <div id="disqus_thread"></div>
                              </div>
                        </div>
                  </div>
            </div>
      </div>

      <script type="text/javascript">
            (function () {
                  
                  
                  if (window.location.hostname == "localhost")
                        return;

                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  var disqus_shortname = 'nan-xiao-blog';
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
      </script>
      <noscript>
            Please enable JavaScript to view the
            <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
      </noscript>
</section>
    <div class="my-4 footer">
    <div class="container">

        <div class="row justify-content-center">
            <div class="col-sm-12 col-lg-8">
                <hr>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-sm-12 col-lg-2">
                
                <div class="mx-0 mx-md-4 site-copyright">
                    © 2020 Nan Xiao
                </div>
                
            </div>
            <div class="col-sm-12 col-lg-6">
                <div class="mx-0 mx-md-4 site-social">
                    <ul>
                        
                        <li><a href="mailto:me@nanx.me">Contact</a></li>
                        

                        
                        <li><a href="https://github.com/nanxstats" target="_blank">GitHub</a></li>
                        

                        

                        

                        
                        <li><a href="https://twitter.com/nanxstats" target="_blank">Twitter</a></li>
                        

                        
                        <li><a href="https://www.linkedin.com/in/nanxstats"
                                target="_blank">LinkedIn</a></li>
                        

                        
                        <li><a href="https://nanx.me/index.xml" class="mr-0">RSS</a></li>
                        

                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


    

    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js" integrity="sha512-tHQeqtcNWlZtEh8As/4MmZ5qpy0wj04svWFK7MIzLmUVIzaHXS8eod9OmHxyBL1UET5Rchvw7Ih4ZDv5JojZww==" crossorigin="anonymous"></script>
        
        <script>
            window.addEventListener('load', function() {
                hljs.initHighlighting();
            }, true);
        </script>
    

    

    
    
        

    
</body>

</html>
