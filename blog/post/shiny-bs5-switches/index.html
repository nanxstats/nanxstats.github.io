<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> Five Minute Shiny: Implement the Switch Input with Bootstrap 5 - Nan Xiao | 肖楠 </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="Implement the Bootstrap 5 switch input for Shiny in five minutes." />

    
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Nan Xiao | 肖楠" />
    <meta property="og:url" content="https://nanx.me/blog/post/shiny-bs5-switches/" />
    <meta property="og:title" content="Five Minute Shiny: Implement the Switch Input with Bootstrap 5" />
    <meta property="og:description" content="Implement the Bootstrap 5 switch input for Shiny in five minutes." />
    <meta property="og:image" content="https://nanx.me/image/zonduurzaam-deventer-BFNi3TWB2fw-unsplash.jpg" />
    <meta property="og:image:secure_url" content="https://nanx.me/image/zonduurzaam-deventer-BFNi3TWB2fw-unsplash.jpg" />
    <meta property="article:published_time" content="2022-04-14T00:30:00Z" />
    <meta property="article:modified_time" content="2022-04-14T00:30:00Z" />
    <meta property="article:author" content="Nan Xiao" />

    
    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:site" content="@nanxstats">
    <meta name="twitter:creator" content="@nanxstats">
    
    <meta name="twitter:title" content="Five Minute Shiny: Implement the Switch Input with Bootstrap 5" />
    <meta name="twitter:description" content="Implement the Bootstrap 5 switch input for Shiny in five minutes." />
    <meta name="twitter:image" content="https://nanx.me/image/zonduurzaam-deventer-BFNi3TWB2fw-unsplash.jpg" />
    <meta name="twitter:image:alt" content="Five Minute Shiny: Implement the Switch Input with Bootstrap 5" />

    
    <meta property="og:linkedin:actor" content="nanxstats" />

    <link rel="canonical" href="https://nanx.me/blog/post/shiny-bs5-switches/">

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['"Martina Plantijn"', 'Newsreader', 'Georgia', 'Cambria', '"Times New Roman"', 'Times', 'serif'],
                        sans: ['"Instrument Sans"', 'system-ui', '-apple-system', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', 'sans-serif'],
                        mono: ['"Liga Noto Sans Mono"', 'ui-monospace', 'SFMono-Regular', '"SF Mono"', 'Menlo', 'Consolas', 'monospace'],
                    },
                    colors: {
                        paper: '#fdfdfd',
                        ink: '#1c1c1c',
                        accent: '#991b1b',  
                    },
                    typography: {
                        DEFAULT: {
                            css: {
                                maxWidth: 'none',
                                color: '#1c1c1c',
                                '--tw-prose-body': '#1c1c1c',
                                '--tw-prose-headings': '#1c1c1c',
                                '--tw-prose-links': '#991b1b',
                                '--tw-prose-bold': '#111827',
                                '--tw-prose-counters': '#71717a',
                                '--tw-prose-bullets': '#d4d4d8',
                                '--tw-prose-hr': '#e4e4e7',
                                '--tw-prose-quotes': '#1c1c1c',
                                '--tw-prose-quote-borders': '#d4d4d8',
                                '--tw-prose-captions': '#71717a',
                                '--tw-prose-code': '#1c1c1c',
                                '--tw-prose-pre-code': '#1c1c1c',
                                '--tw-prose-pre-bg': '#fdfdfd',
                                '--tw-prose-th-borders': '#d4d4d8',
                                '--tw-prose-td-borders': '#e4e4e7',
                                'pre': {
                                    color: '#1c1c1c',
                                    backgroundColor: '#fdfdfd !important',
                                    border: '1px solid #e4e4e7',
                                },
                                a: {
                                    color: '#991b1b',
                                    textDecoration: 'none',
                                    fontWeight: '400',
                                    borderBottom: '1px solid transparent',
                                    transition: 'border-color 0.2s ease, color 0.2s ease',
                                },
                                'a:hover': {
                                    color: '#991b1b !important',
                                    borderBottomColor: '#991b1b !important',
                                },
                                h1: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500', letterSpacing: '-0.025em' },
                                h2: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500', letterSpacing: '-0.025em', marginTop: '2em' },
                                h3: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500' },
                                h4: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500' },
                                blockquote: {
                                    fontStyle: 'italic',
                                    fontWeight: '400',
                                    borderLeftWidth: '2px',
                                },
                                'code::before': { content: 'none' },
                                'code::after': { content: 'none' },
                                ':not(pre) > code': {
                                    fontWeight: '400',
                                    color: '#1c1c1c !important',
                                    backgroundColor: '#f4f4f5 !important',
                                    padding: '0.2em 0.4em',
                                    borderRadius: '0.25rem',
                                    fontSize: '0.875em',
                                },
                            },
                        },
                    },
                },
            },
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .tufte-grid {
                display: grid;
                grid-template-columns: 1fr min(65ch, 100%) 1fr;
                column-gap: 2rem;
            }
            .tufte-grid > * {
                grid-column: 2;
            }
            .tufte-grid > .full-width {
                grid-column: 1 / -1;
            }
            .tufte-grid > .margin-note {
                grid-column: 3;
                font-family: "Instrument Sans", sans-serif;
                font-size: 0.875rem;
                line-height: 1.4;
                color: #52525b;  
                margin-top: 0.25rem;
            }
            @media (max-width: 1024px) {
                .tufte-grid {
                    grid-template-columns: 1rem 1fr 1rem;
                }
                .tufte-grid > .margin-note {
                    grid-column: 2;
                    margin-top: 0.5rem;
                    margin-bottom: 1rem;
                    padding-left: 1rem;
                    border-left: 2px solid #e4e4e7;
                }
            }
        }
    </style>

    <link rel="stylesheet" href="https://nanx.me/css/custom.css" />

    
    <link rel="stylesheet" href="https://nanx.me/css/textmate.css" />
    

    

    <link rel="shortcut icon"
        href="https://nanx.me/image/favicon.png">

    
</head>

<body class="bg-paper text-ink font-serif antialiased selection:bg-zinc-200">
    
<header class="py-8 lg:py-12 text-sm font-sans tracking-wide max-w-[67ch] mx-auto w-full px-4 sm:px-6">
    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-0">
        <a href="https://nanx.me/" class="font-medium text-ink hover:text-accent transition-colors">
            Nan Xiao
        </a>
        <nav class="flex flex-wrap gap-4 sm:gap-6 text-zinc-600">
            
            
            <a class="text-ink font-medium"
                href="https://nanx.me/blog/">
                Blog
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/software/">
                Software
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/papers/">
                Papers
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/talks/">
                Talks
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/books/">
                Books
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/about/">
                About
            </a>
            
        </nav>
    </div>
</header>

<main class="content my-10 lg:my-20 max-w-[65ch] mx-auto w-full px-4 sm:px-6">
    <article>
        <header class="mb-14">
            <h1 class="text-3xl lg:text-4xl font-sans tracking-tight text-ink font-medium mb-4">Five Minute Shiny: Implement the Switch Input with Bootstrap 5</h1>

            <div class="text-zinc-500 font-sans text-sm tracking-wide">
                
                
                <span class="author" title="Nan Xiao">
                    Nan Xiao
                </span>
                
                

                <span class="date middot" title='Thu Apr 14 2022 00:30:00 UTC'>
                    April 14, 2022
                </span>

                <span class="reading-time middot">
                    3 min read
                </span>

                <div class="mt-8 flex flex-wrap gap-2">
                    
                    <a href="https://nanx.me/tags/r"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        R
                    </a>
                    
                    <a href="https://nanx.me/tags/shiny"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        Shiny
                    </a>
                    
                    <a href="https://nanx.me/tags/bootstrap-5"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        Bootstrap 5
                    </a>
                    
                    
                    
                </div>
            </div>

        </header>

        <div class="prose prose-zinc max-w-none">
            
    


<blockquote>
<p>The R code in this post is also available as <a href="https://gist.github.com/nanxstats/e43c1f207dc8b727f6c832d3226d1d16">this GitHub Gist</a>.</p>
</blockquote>
<div class="float">
<img src="https://nanx.me/image/zonduurzaam-deventer-BFNi3TWB2fw-unsplash.jpg" alt="Photo by Zonduurzaam Deventer." />
<div class="figcaption">Photo by <a href="https://unsplash.com/photos/BFNi3TWB2fw">Zonduurzaam Deventer</a>.</div>
</div>
<p>Bootstrap 4 and 5 have expanded the types of UI components compared to
version 3. On the other hand, the available UI inputs and outputs in Shiny have
been relatively stable while being carefully made compatible across
different Bootstrap versions through bslib.</p>
<p>Since we can already leverage the native UI components in Bootstrap 5 via bslib,
it would be fun to create the R wrappers for the “missing” inputs that
were not available in Bootstrap 3.
One of the most straightforward examples is the switch input.</p>
<p>A toggle switch input is a checkbox input, with only binary values and
<a href="https://uxplanet.org/checkbox-vs-toggle-switch-7fc6e83f10b8">different use cases</a>.
Therefore, we can borrow <code>shiny::checkboxInput()</code> and apply the necessary changes based on
<a href="https://getbootstrap.com/docs/5.1/forms/checks-radios/#switches">Bootstrap 5 switches</a>
without creating custom input bindings in JavaScript.
To update the switch inputs, we can even reuse <code>shiny::updateCheckboxInput()</code>.</p>
<pre class="r"><code>switchInput &lt;- function(inputId, label, value = FALSE, disabled = FALSE, width = NULL) {
  value &lt;- shiny::restoreInput(id = inputId, default = value)
  inputTag &lt;- htmltools::tags$input(id = inputId, type = &quot;checkbox&quot;, role = &quot;switch&quot;, class = &quot;form-check-input&quot;)
  if (!is.null(value) &amp;&amp; value) {
    inputTag$attribs$checked &lt;- NA
  }
  if (!is.null(disabled) &amp;&amp; disabled) {
    inputTag$attribs$disabled &lt;- NA
  }
  htmltools::tags$div(
    class = &quot;form-group shiny-input-container&quot;, style = htmltools::css(width = shiny::validateCssUnit(width)),
    htmltools::tags$div(
      class = &quot;from-check form-switch&quot;,
      inputTag,
      htmltools::tags$label(label, class = &quot;form-check-label&quot;)
    ),
  )
}

updateSwitchInput &lt;- shiny::updateCheckboxInput</code></pre>
<p>Try it out (preview at <a href="https://nanx.shinyapps.io/shiny-bs5-switches/" class="uri">https://nanx.shinyapps.io/shiny-bs5-switches/</a>):</p>
<pre class="r"><code>card &lt;- function(title, ...) {
  htmltools::tags$div(
    class = &quot;card&quot;,
    htmltools::tags$div(class = &quot;card-header&quot;, title),
    htmltools::tags$div(class = &quot;card-body&quot;, ...)
  )
}

ui &lt;- shiny::fluidPage(
  title = &quot;Bootstrap 5 Switches for Shiny&quot;,
  theme = bslib::bs_theme(
    version = 5,
    primary = &quot;#002FA7&quot;,
    `form-check-input-checked-bg-color` = &quot;#002FA7&quot;
  ),
  lang = &quot;en&quot;,
  shiny::fluidRow(
    style = &quot;margin-top: 20px;&quot;,
    shiny::column(
      width = 8, offset = 2,
      card(
        title = &quot;Bootstrap 5 Switches for Shiny&quot;,
        switchInput(&quot;input1&quot;, label = &quot;Default switch checkbox input&quot;, width = &quot;100%&quot;),
        verbatimTextOutput(&quot;value1&quot;),
        switchInput(&quot;input2&quot;, label = &quot;Checked switch checkbox input&quot;, value = TRUE, width = &quot;100%&quot;),
        verbatimTextOutput(&quot;value2&quot;),
        switchInput(&quot;input3&quot;, label = &quot;Disabled switch checkbox input&quot;, disabled = TRUE, width = &quot;100%&quot;),
        verbatimTextOutput(&quot;value3&quot;),
        switchInput(&quot;input4&quot;, label = &quot;Disabled checked switch checkbox input&quot;, value = TRUE, disabled = TRUE, width = &quot;100%&quot;),
        verbatimTextOutput(&quot;value4&quot;),
        sliderInput(&quot;controller&quot;, &quot;Controller&quot;, min = 0, max = 4, value = 0, step = 1),
        switchInput(&quot;input5&quot;, &quot;Input switch that can be updated&quot;)
      )
    )
  )
)

server &lt;- function(input, output, session) {
  output$value1 &lt;- renderText(input$input1)
  output$value2 &lt;- renderText(input$input2)
  output$value3 &lt;- renderText(input$input3)
  output$value4 &lt;- renderText(input$input4)
  observe({
    # TRUE if input$controller is odd, FALSE if even.
    x_even &lt;- input$controller %% 2 == 1
    updateSwitchInput(session, &quot;input5&quot;, value = x_even)
  })
}

shiny::shinyApp(ui, server)</code></pre>



        </div>

        
        <nav class="pagination-nav mt-10 mb-3" aria-label="Blog post navigation">
            <div class="navigation-btns">
                
                <a href="https://nanx.me/blog/post/dt-news-list/" class="btn-nav btn-prev w-full">
                    <div class="btn-content">
                        <div class="pagination-nav-sublabel">Previous</div>
                        <div class="pagination-nav-label">&laquo; Building Paginated News Lists in R Markdown and Shiny with DT</div>
                    </div>
                </a>
                

                
                <a href="https://nanx.me/blog/post/shiny-file-input-area/" class="btn-nav btn-next w-full">
                    <div class="btn-content">
                        <div class="pagination-nav-sublabel">Next</div>
                        <div class="pagination-nav-label">Five Minute Shiny: File Input Area Widget &raquo;</div>
                    </div>
                </a>
                
            </div>
        </nav>
        

    </article>
</main>

<section id="comments">
    <div class="py-3 content">
        <div class="mx-auto max-w-[65ch] w-full px-4 sm:px-6">
            <div class="comments">
                <script src="https://utteranc.es/client.js" repo="nanxstats/blog-comments" issue-term="pathname"
                    label="comment" theme="github-light" crossorigin="anonymous" async>
                    </script>
            </div>
        </div>
    </div>
</section>
<footer class="mt-20 mb-10 text-center font-sans text-sm text-zinc-500 tracking-wide">
    <div class="tufte-grid">
        <div class="flex flex-col items-center gap-4">
            <div class="flex flex-wrap items-center justify-center gap-x-4 gap-y-2">
                
                
                <a href="https://github.com/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">GitHub</a>
                
                
                
                
                <a href="https://www.linkedin.com/in/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">LinkedIn</a>
                
                
                <a href="https://bsky.app/profile/nanxstats.bsky.social" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">Bluesky</a>
                
                
                <a href="https://twitter.com/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">Twitter</a>
                
                
                
                <a href="https://nanx.me/colophon/" class="hover:text-accent transition-colors">Colophon</a>
                
                
            </div>

            
            <div class="mt-2">
                © 2026 Nan Xiao. All rights reserved.
            </div>
            
        </div>
    </div>
</footer>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"
        integrity="sha512-EBLzUL8XLl+va/zAsmXwS7Z2B1F9HUHkZwyS/VKwh3S7T/U0nF4BaU29EP/ZSf6zgiIxYAnKLu6bJ8dqpmX5uw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/r.min.js" defer></script>
    
    <script>
        window.addEventListener('load', function () {
            hljs.highlightAll();
        }, true);
    </script>
    

    

    
    
    
<script src="https://nanx.me/js/math-code.js"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
</body>

</html>