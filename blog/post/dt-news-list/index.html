<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> Building Paginated News Lists in R Markdown and Shiny with DT - Nan Xiao | 肖楠 </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="Create a paginated DT/DataTables widget to display complex lists in single-page R Markdown documents and Shiny apps." />

    
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Nan Xiao | 肖楠" />
    <meta property="og:url" content="https://nanx.me/blog/post/dt-news-list/" />
    <meta property="og:title" content="Building Paginated News Lists in R Markdown and Shiny with DT" />
    <meta property="og:description" content="Create a paginated DT/DataTables widget to display complex lists in single-page R Markdown documents and Shiny apps." />
    <meta property="og:image" content="https://nanx.me/image/simon-lee-c17yhU11jyE-unsplash.jpg" />
    <meta property="og:image:secure_url" content="https://nanx.me/image/simon-lee-c17yhU11jyE-unsplash.jpg" />
    <meta property="article:published_time" content=" 2022-04-10T01:00:00Z" />
    <meta property="article:modified_time" content=" 2022-04-10T01:00:00Z" />
    <meta property="article:author" content="Nan Xiao" />

    
    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:site" content="@nanxstats">
    <meta name="twitter:creator" content="@nanxstats">
    
    <meta name="twitter:title" content="Building Paginated News Lists in R Markdown and Shiny with DT" />
    <meta name="twitter:description" content="Create a paginated DT/DataTables widget to display complex lists in single-page R Markdown documents and Shiny apps." />
    <meta name="twitter:image" content="https://nanx.me/image/simon-lee-c17yhU11jyE-unsplash.jpg" />
    <meta name="twitter:image:alt" content="Building Paginated News Lists in R Markdown and Shiny with DT" />

    
    <meta property="og:linkedin:actor" content="nanxstats" />

    <link rel="canonical" href="https://nanx.me/blog/post/dt-news-list/">

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['"Martina Plantijn"', 'Newsreader', 'Georgia', 'Cambria', '"Times New Roman"', 'Times', 'serif'],
                        sans: ['"Instrument Sans"', 'system-ui', '-apple-system', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', 'sans-serif'],
                        mono: ['"Liga Noto Sans Mono"', 'ui-monospace', 'SFMono-Regular', '"SF Mono"', 'Menlo', 'Consolas', 'monospace'],
                    },
                    colors: {
                        paper: '#fdfdfd',
                        ink: '#1c1c1c',
                        accent: '#991b1b',  
                    },
                    typography: {
                        DEFAULT: {
                            css: {
                                maxWidth: 'none',
                                color: '#1c1c1c',
                                '--tw-prose-body': '#1c1c1c',
                                '--tw-prose-headings': '#1c1c1c',
                                '--tw-prose-links': '#991b1b',
                                '--tw-prose-bold': '#111827',
                                '--tw-prose-counters': '#71717a',
                                '--tw-prose-bullets': '#d4d4d8',
                                '--tw-prose-hr': '#e4e4e7',
                                '--tw-prose-quotes': '#1c1c1c',
                                '--tw-prose-quote-borders': '#d4d4d8',
                                '--tw-prose-captions': '#71717a',
                                '--tw-prose-code': '#1c1c1c',
                                '--tw-prose-pre-code': '#1c1c1c',
                                '--tw-prose-pre-bg': '#fdfdfd',
                                '--tw-prose-th-borders': '#d4d4d8',
                                '--tw-prose-td-borders': '#e4e4e7',
                                'pre': {
                                    color: '#1c1c1c',
                                    backgroundColor: '#fdfdfd !important',
                                    border: '1px solid #e4e4e7',
                                },
                                a: {
                                    color: '#991b1b',
                                    textDecoration: 'none',
                                    fontWeight: '400',
                                    borderBottom: '1px solid transparent',
                                    transition: 'border-color 0.2s ease, color 0.2s ease',
                                },
                                'a:hover': {
                                    color: '#991b1b !important',
                                    borderBottomColor: '#991b1b !important',
                                },
                                h1: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500', letterSpacing: '-0.025em' },
                                h2: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500', letterSpacing: '-0.025em', marginTop: '2em' },
                                h3: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500' },
                                h4: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500' },
                                blockquote: {
                                    fontStyle: 'italic',
                                    fontWeight: '400',
                                    borderLeftWidth: '2px',
                                },
                                'code::before': { content: 'none' },
                                'code::after': { content: 'none' },
                                ':not(pre) > code': {
                                    fontWeight: '400',
                                    color: '#1c1c1c !important',
                                    backgroundColor: '#f4f4f5 !important',
                                    padding: '0.2em 0.4em',
                                    borderRadius: '0.25rem',
                                    fontSize: '0.875em',
                                },
                            },
                        },
                    },
                },
            },
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .tufte-grid {
                display: grid;
                grid-template-columns: 1fr min(65ch, 100%) 1fr;
                column-gap: 2rem;
            }
            .tufte-grid > * {
                grid-column: 2;
            }
            .tufte-grid > .full-width {
                grid-column: 1 / -1;
            }
            .tufte-grid > .margin-note {
                grid-column: 3;
                font-family: "Instrument Sans", sans-serif;
                font-size: 0.875rem;
                line-height: 1.4;
                color: #52525b;  
                margin-top: 0.25rem;
            }
            @media (max-width: 1024px) {
                .tufte-grid {
                    grid-template-columns: 1rem 1fr 1rem;
                }
                .tufte-grid > .margin-note {
                    grid-column: 2;
                    margin-top: 0.5rem;
                    margin-bottom: 1rem;
                    padding-left: 1rem;
                    border-left: 2px solid #e4e4e7;
                }
            }
        }
    </style>

    <link rel="stylesheet" href="https://nanx.me/css/custom.css" />

    
    <link rel="stylesheet" href="https://nanx.me/css/textmate.css" />
    

    

    <link rel="shortcut icon"
        href="https://nanx.me/image/favicon.png">

    
</head>

<body class="bg-paper text-ink font-serif antialiased selection:bg-zinc-200">
    
<header class="py-8 lg:py-12 text-sm font-sans tracking-wide max-w-[67ch] mx-auto w-full px-4 sm:px-6">
    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-0">
        <a href="https://nanx.me/" class="font-medium text-ink hover:text-accent transition-colors">
            Nan Xiao
        </a>
        <nav class="flex flex-wrap gap-4 sm:gap-6 text-zinc-600">
            
            
            <a class="text-ink font-medium"
                href="https://nanx.me/blog/">
                Blog
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/software/">
                Software
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/papers/">
                Papers
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/talks/">
                Talks
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/books/">
                Books
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/about/">
                About
            </a>
            
        </nav>
    </div>
</header>

<main class="content my-10 lg:my-20 max-w-[65ch] mx-auto w-full px-4 sm:px-6">
    <article>
        <header class="mb-14">
            <h1 class="text-3xl lg:text-4xl font-sans tracking-tight text-ink font-medium mb-4">Building Paginated News Lists in R Markdown and Shiny with DT</h1>

            <div class="text-zinc-500 font-sans text-sm tracking-wide">
                
                
                <span class="author" title="Nan Xiao">
                    Nan Xiao
                </span>
                
                

                <span class="date middot" title='Sun Apr 10 2022 01:00:00 UTC'>
                    April 10, 2022
                </span>

                <span class="reading-time middot">
                    5 min read
                </span>

                <div class="mt-8 flex flex-wrap gap-2">
                    
                    <a href="https://nanx.me/%20tags/r"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        R
                    </a>
                    
                    <a href="https://nanx.me/%20tags/dt"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        DT
                    </a>
                    
                    <a href="https://nanx.me/%20tags/datatables"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        DataTables
                    </a>
                    
                    <a href="https://nanx.me/%20tags/r-markdown"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        R Markdown
                    </a>
                    
                    <a href="https://nanx.me/%20tags/shiny"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        Shiny
                    </a>
                    
                    
                    
                </div>
            </div>

        </header>

        <div class="prose prose-zinc max-w-none">
            
    


<blockquote>
<p>The R code in this post is also available as <a href="https://gist.github.com/nanxstats/2f79e09060657e143b19d068bd6d79b8">this GitHub Gist</a>.</p>
</blockquote>
<div class="figure">
<img src="https://nanx.me/image/simon-lee-c17yhU11jyE-unsplash.jpg" alt="" />
<p class="caption">Mosaic Mondrian. Original photo by <a href="https://unsplash.com/photos/c17yhU11jyE">Simon Lee</a>.</p>
</div>
<div id="context-and-motivation" class="section level2">
<h2>Context and motivation</h2>
<p>A single-file R Markdown document often generates single-page HTML outputs.
Similarly, Shiny is a single-page application framework. The single-page
nature of these outputs makes it challenging to create experiences like
pagination to display long and sophisticated lists, which is usually
accomplished by creating multiple pages and URL routing.</p>
<p>Serendipitously, I found a
<a href="https://www.canada.ca/en/news.html">creative DataTables use case</a>
for displaying a list of news articles metadata on a single page,
with no additional pagination needed (<a href="datatables-news-list.png">screenshot</a>).
So I decided to reproduce this use case with <a href="https://github.com/rstudio/DT">DT</a>,
the time-tested, well-maintained, capable R wrapper for the DataTables JS library.</p>
<p>You can <a href="dt.html">view the results here</a>. It works in both R Markdown static
HTML pages and Shiny apps, and the steps are documented below.</p>
</div>
<div id="generate-mock-data" class="section level2">
<h2>Generate mock data</h2>
<p>To populate the news data into a table, we first generate some fake (mock)
data using <a href="https://github.com/ropensci/charlatan/">charlatan</a>
and the <em>lorem ipsum</em> generator in <a href="https://github.com/gagolews/stringi">stringi</a>.</p>
<pre class="r"><code>set.seed(42)
k &lt;- 100
df &lt;- data.frame(
  title = unlist(purrr::map2(
    .x = stringr::word(stringi::stri_rand_lipsum(k), start = 1, end = 10),
    .y = rep(&quot;#&quot;, k),
    .f = function(.x, .y) as.character(htmltools::tags$a(.x, href = .y))
  )),
  time = as.POSIXct(unlist(
    charlatan::ch_date_time(n = k)
  ), origin = &quot;1970-01-01 00:00.00 UTC&quot;),
  inst = sample(charlatan::ch_company(n = 20), size = k, replace = TRUE),
  type = sample(
    c(&quot;backgrounders&quot;, &quot;media advisories&quot;, &quot;news releases&quot;, &quot;readouts&quot;, &quot;speeches&quot;),
    size = k, replace = TRUE
  ),
  desc = stringi::stri_rand_lipsum(k),
  stringsAsFactors = FALSE
)

df$metadata &lt;- paste(df$time, df$inst, df$type, sep = &quot;&amp;nbsp; | &amp;nbsp;&quot;)
df &lt;- df[, c(&quot;title&quot;, &quot;time&quot;, &quot;inst&quot;, &quot;type&quot;, &quot;metadata&quot;, &quot;desc&quot;)]
df &lt;- df[order(df$time, decreasing = TRUE), ]</code></pre>
</div>
<div id="create-filter-widgets-using-crosstalk" class="section level2">
<h2>Create filter widgets using crosstalk</h2>
<p>I used <a href="https://github.com/rstudio/crosstalk">crosstalk</a> to implement filtering.
We will need to bind the two example filters here in a list to ensure a joint
selection behavior.</p>
<pre class="r"><code>df_shared &lt;- crosstalk::SharedData$new(df)

ui_filters &lt;- list(
  crosstalk::filter_select(
    id = &quot;selector-type&quot;,
    label = &quot;News type&quot;,
    sharedData = df_shared,
    group = ~type
  ),
  crosstalk::filter_select(
    id = &quot;selector-inst&quot;,
    label = &quot;Institution&quot;,
    sharedData = df_shared,
    group = ~inst
  )
)</code></pre>
</div>
<div id="create-a-table-widget-using-dt" class="section level2">
<h2>Create a table widget using DT</h2>
<p>We then proceed to create a DataTables widget using <code>DT::datatable()</code>.
A few less-used options are explained below.</p>
<ul>
<li><code>columnDefs</code>: Define the invisible columns for filtering only
(and show the other columns).</li>
<li><code>dom</code>: Rearrange the table control element positions.</li>
<li><code>headerCallback</code>: Hide the table headers.</li>
<li><code>style</code> and <code>class</code>: Leverage the Bootstrap table styling.</li>
<li><code>escape = FALSE</code>: Display the news title as HTML links without HTML escaping.
Please note that if the table content can be user-generated,
we <strong>must</strong> use <code>htmltools::htmlEscape()</code> to escape the raw data
to avoid security vulnerabilities like XSS.</li>
</ul>
<pre class="r"><code>ui_dt &lt;- DT::datatable(
  df_shared,
  options = list(
    columnDefs = list(list(visible = FALSE, targets = c(1, 2, 3))),
    dom = &quot;&lt;&#39;top&#39;fil&gt;rt&lt;&#39;bottom&#39;p&gt;&lt;&#39;clear&#39;&gt;&quot;,
    language = list(search = &quot;Filter items:&quot;),
    pageLength = 3,
    headerCallback = DT::JS(
      &quot;function(thead, data, start, end, display){&quot;,
      &quot;  $(thead).remove();&quot;,
      &quot;}&quot;
    )
  ),
  class = c(&quot;table&quot;, &quot;table-striped&quot;, &quot;table-hover&quot;, &quot;table-borderless&quot;),
  style = &quot;bootstrap4&quot;,
  rownames = FALSE,
  escape = FALSE,
  width = &quot;850px&quot;,
  selection = &quot;none&quot;
)</code></pre>
</div>
<div id="define-custom-css-styles-for-table-elements" class="section level2">
<h2>Define custom CSS styles for table elements</h2>
<p>We can then customize the table style with CSS to match the original use case.
Mostly, the table columns and table control elements need to be stylized.</p>
<p>I encounter a blocker in making specific columns
(title and description) fill the entire row. I asked
<a href="https://d.cosx.org/d/423087-dt">this question</a> online, and fortunately,
<a href="https://tc.rbind.io/">Tongchuan</a> offered a simple solution
by setting <code>td { display: block; }</code>. Although this would make
every column fill the row, I could create and display a formatted
<code>metadata</code> column in the beginning and hide the filtering-only
columns using the <code>columnDefs</code> specification above.</p>
<pre class="r"><code>css_dt &lt;- textConnection(&quot;
  table td { display: block; }
  table td:nth-child(1) { font-size: 1.375rem; }
  table td:nth-child(2) { color: #555; }
  div.dataTables_wrapper div.dataTables_filter { display: inline; text-align: left; }
  div.dataTables_wrapper div.dataTables_filter label { font-weight: 700; }
  div.dataTables_wrapper div.dataTables_info { display: inline; margin-left: 1ch; padding-top: 0; }
  div.dataTables_wrapper div.dataTables_length { display: inline; margin-left: 1ch; padding-left: 1ch; border-left: 1px solid;}
  div.dataTables_wrapper div.dataTables_length label { font-weight: 700; }
  div.dataTables_wrapper div.dataTables_paginate ul.pagination { justify-content: center; }
&quot;)</code></pre>
</div>
<div id="compose-widgets-into-an-html-page" class="section level2">
<h2>Compose widgets into an HTML page</h2>
<p>To preview the table, we compose the elements into an HTML page.</p>
<p>Note that the <code>shiny</code> calls here are only a convenient way to include the
Bootstrap dependency. We can then leverage the Bootstrap grid system and
element styling to position and stylize things easily.</p>
<p>To <a href="https://rstudio.github.io/DT/shiny.html">use DT in Shiny apps</a> formally,
you need the <code>DT::renderDT()</code> and <code>DT::DTOutput()</code> construct.
For R Markdown documents, use the <code>DT::datatable()</code> output
in an R code chunk directly.</p>
<pre class="r"><code>card &lt;- function(title, ...) {
  htmltools::tags$div(
    class = &quot;card&quot;,
    htmltools::tags$div(class = &quot;card-header&quot;, title),
    htmltools::tags$div(class = &quot;card-body&quot;, ...)
  )
}

html &lt;- shiny::fluidPage(
  title = &quot;DT News List Example&quot;,
  theme = bslib::bs_theme(version = 5, primary = &quot;#295376&quot;),
  lang = &quot;en&quot;,
  shiny::includeCSS(css_dt),
  shiny::fluidRow(
    shiny::column(
      width = 10, offset = 1,
      shiny::fluidRow(
        shiny::column(
          width = 3,
          card(
            title = &quot;Filter news&quot;,
            htmltools::tags$p(
              &quot;Use filters to search for the most recent news articles.&quot;
            ),
            ui_filters
          )
        ),
        shiny::column(
          width = 9,
          ui_dt
        )
      )
    )
  )
)</code></pre>
<pre class="r"><code>htmltools::browsable(html)</code></pre>
</div>
<div id="discussions" class="section level2">
<h2>Discussions</h2>
<p>There are still rough edges in this DT table, such as making the table
responsive and the height of the HTML widget, but they are details.</p>
<p>It would be fun to implement UI components involving a paginated list
in Shiny, single-page R Markdown documents, or R Markdown static website
generators, like distill and the
<a href="https://bookdown.org/yihui/rmarkdown/rmarkdown-site.html">simple site generator</a>.
However, blogdown has Hugo’s <a href="https://gohugo.io/templates/pagination/">pagination</a>
templating support; thus, there is a more native way to solve it.</p>
<p>On scalability, to avoid stressing the web browser with too many DOM elements
in a single page when the table gets large, one might want to use
<a href="https://rstudio.github.io/DT/server.html">server-side processing</a>
or have a content archiving mechanism.</p>
</div>



        </div>

        
        <nav class="pagination-nav mt-10 mb-3" aria-label="Blog post navigation">
            <div class="navigation-btns">
                
                <a href="https://nanx.me/blog/post/ggplot2-color-interpolation/" class="btn-nav btn-prev w-full">
                    <div class="btn-content">
                        <div class="pagination-nav-sublabel">Previous</div>
                        <div class="pagination-nav-label">&laquo; Adaptive ggplot2 Color Scales with Color Interpolation</div>
                    </div>
                </a>
                

                
                <a href="https://nanx.me/blog/post/shiny-bs5-switches/" class="btn-nav btn-next w-full">
                    <div class="btn-content">
                        <div class="pagination-nav-sublabel">Next</div>
                        <div class="pagination-nav-label">Five Minute Shiny: Implement the Switch Input with Bootstrap 5 &raquo;</div>
                    </div>
                </a>
                
            </div>
        </nav>
        

    </article>
</main>

<section id="comments">
    <div class="py-3 content">
        <div class="mx-auto max-w-[65ch] w-full px-4 sm:px-6">
            <div class="comments">
                <script src="https://utteranc.es/client.js" repo="nanxstats/blog-comments" issue-term="pathname"
                    label="comment" theme="github-light" crossorigin="anonymous" async>
                    </script>
            </div>
        </div>
    </div>
</section>
<footer class="mt-20 mb-10 text-center font-sans text-sm text-zinc-500 tracking-wide">
    <div class="tufte-grid">
        <div class="flex flex-col items-center gap-4">
            <div class="flex flex-wrap items-center justify-center gap-x-4 gap-y-2">
                
                
                <a href="https://github.com/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">GitHub</a>
                
                
                
                
                <a href="https://www.linkedin.com/in/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">LinkedIn</a>
                
                
                <a href="https://bsky.app/profile/nanxstats.bsky.social" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">Bluesky</a>
                
                
                <a href="https://twitter.com/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">Twitter</a>
                
                
                
                <a href="https://nanx.me/colophon/" class="hover:text-accent transition-colors">Colophon</a>
                
                
            </div>

            
            <div class="mt-2">
                © 2026 Nan Xiao. All rights reserved.
            </div>
            
        </div>
    </div>
</footer>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"
        integrity="sha512-EBLzUL8XLl+va/zAsmXwS7Z2B1F9HUHkZwyS/VKwh3S7T/U0nF4BaU29EP/ZSf6zgiIxYAnKLu6bJ8dqpmX5uw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/r.min.js" defer></script>
    
    <script>
        window.addEventListener('load', function () {
            hljs.highlightAll();
        }, true);
    </script>
    

    

    
    
    
<script src="https://nanx.me/js/math-code.js"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
</body>

</html>