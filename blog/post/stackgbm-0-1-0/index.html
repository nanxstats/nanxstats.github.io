<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> stackgbm is on CRAN - Nan Xiao | 肖楠 </title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="referrer" content="no-referrer">
    <meta name="description" content="stackgbm is a minimalist R package for stacking gradient boosting decision tree models. It simplifies the process of combining multiple GBDT implementations, such as xgboost, lightgbm, and catboost, to improve predictive performance on tabular data classification tasks. With a focus on simplicity and flexibility, stackgbm could be a useful tool for machine learning research and experimentation.
" />

    
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Nan Xiao | 肖楠" />
    <meta property="og:url" content="https://nanx.me/blog/post/stackgbm-0-1-0/" />
    <meta property="og:title" content="stackgbm is on CRAN" />
    <meta property="og:description" content="stackgbm is a minimalist R package for stacking gradient boosting decision tree models. It simplifies the process of combining multiple GBDT implementations, such as xgboost, lightgbm, and catboost, to improve predictive performance on tabular data classification tasks. With a focus on simplicity and flexibility, stackgbm could be a useful tool for machine learning research and experimentation.
" />
    <meta property="og:image" content="https://nanx.me/image/dylan-shaw-AAVR8hB75ko-unsplash.jpg" />
    <meta property="og:image:secure_url" content="https://nanx.me/image/dylan-shaw-AAVR8hB75ko-unsplash.jpg" />
    <meta property="article:published_time" content="2024-04-30T08:10:00Z" />
    <meta property="article:modified_time" content="2024-04-30T08:10:00Z" />
    <meta property="article:author" content="Nan Xiao" />

    
    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:site" content="@nanxstats">
    <meta name="twitter:creator" content="@nanxstats">
    
    <meta name="twitter:title" content="stackgbm is on CRAN" />
    <meta name="twitter:description" content="stackgbm is a minimalist R package for stacking gradient boosting decision tree models. It simplifies the process of combining multiple GBDT implementations, such as xgboost, lightgbm, and catboost, to improve predictive performance on tabular data classification tasks. With a focus on simplicity and flexibility, stackgbm could be a useful tool for machine learning research and experimentation.
" />
    <meta name="twitter:image" content="https://nanx.me/image/dylan-shaw-AAVR8hB75ko-unsplash.jpg" />
    <meta name="twitter:image:alt" content="stackgbm is on CRAN" />

    
    <meta property="og:linkedin:actor" content="nanxstats" />

    <link rel="canonical" href="https://nanx.me/blog/post/stackgbm-0-1-0/">

    
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['"Martina Plantijn"', 'Newsreader', 'Georgia', 'Cambria', '"Times New Roman"', 'Times', 'serif'],
                        sans: ['"Instrument Sans"', 'system-ui', '-apple-system', '"Segoe UI"', 'Roboto', '"Helvetica Neue"', 'Arial', 'sans-serif'],
                        mono: ['"Liga Noto Sans Mono"', 'ui-monospace', 'SFMono-Regular', '"SF Mono"', 'Menlo', 'Consolas', 'monospace'],
                    },
                    colors: {
                        paper: '#fdfdfd',
                        ink: '#1c1c1c',
                        accent: '#991b1b',  
                    },
                    typography: {
                        DEFAULT: {
                            css: {
                                maxWidth: 'none',
                                color: '#1c1c1c',
                                '--tw-prose-body': '#1c1c1c',
                                '--tw-prose-headings': '#1c1c1c',
                                '--tw-prose-links': '#991b1b',
                                '--tw-prose-bold': '#111827',
                                '--tw-prose-counters': '#71717a',
                                '--tw-prose-bullets': '#d4d4d8',
                                '--tw-prose-hr': '#e4e4e7',
                                '--tw-prose-quotes': '#1c1c1c',
                                '--tw-prose-quote-borders': '#d4d4d8',
                                '--tw-prose-captions': '#71717a',
                                '--tw-prose-code': '#1c1c1c',
                                '--tw-prose-pre-code': '#1c1c1c',
                                '--tw-prose-pre-bg': '#fdfdfd',
                                '--tw-prose-th-borders': '#d4d4d8',
                                '--tw-prose-td-borders': '#e4e4e7',
                                'pre': {
                                    color: '#1c1c1c',
                                    backgroundColor: '#fdfdfd !important',
                                    border: '1px solid #e4e4e7',
                                },
                                a: {
                                    color: '#991b1b',
                                    textDecoration: 'none',
                                    fontWeight: '400',
                                    borderBottom: '1px solid transparent',
                                    transition: 'border-color 0.2s ease, color 0.2s ease',
                                },
                                'a:hover': {
                                    color: '#991b1b !important',
                                    borderBottomColor: '#991b1b !important',
                                },
                                h1: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500', letterSpacing: '-0.025em' },
                                h2: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500', letterSpacing: '-0.025em', marginTop: '2em' },
                                h3: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500' },
                                h4: { fontFamily: '"Instrument Sans", sans-serif', fontWeight: '500' },
                                blockquote: {
                                    fontStyle: 'italic',
                                    fontWeight: '400',
                                    borderLeftWidth: '2px',
                                },
                                'code::before': { content: 'none' },
                                'code::after': { content: 'none' },
                                ':not(pre) > code': {
                                    fontWeight: '400',
                                    color: '#1c1c1c !important',
                                    backgroundColor: '#f4f4f5 !important',
                                    padding: '0.2em 0.4em',
                                    borderRadius: '0.25rem',
                                    fontSize: '0.875em',
                                },
                            },
                        },
                    },
                },
            },
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .tufte-grid {
                display: grid;
                grid-template-columns: 1fr min(65ch, 100%) 1fr;
                column-gap: 2rem;
            }
            .tufte-grid > * {
                grid-column: 2;
            }
            .tufte-grid > .full-width {
                grid-column: 1 / -1;
            }
            .tufte-grid > .margin-note {
                grid-column: 3;
                font-family: "Instrument Sans", sans-serif;
                font-size: 0.875rem;
                line-height: 1.4;
                color: #52525b;  
                margin-top: 0.25rem;
            }
            @media (max-width: 1024px) {
                .tufte-grid {
                    grid-template-columns: 1rem 1fr 1rem;
                }
                .tufte-grid > .margin-note {
                    grid-column: 2;
                    margin-top: 0.5rem;
                    margin-bottom: 1rem;
                    padding-left: 1rem;
                    border-left: 2px solid #e4e4e7;
                }
            }
        }
    </style>

    <link rel="stylesheet" href="https://nanx.me/css/custom.css" />

    
    <link rel="stylesheet" href="https://nanx.me/css/textmate.css" />
    

    

    <link rel="shortcut icon"
        href="https://nanx.me/image/favicon.png">

    
</head>

<body class="bg-paper text-ink font-serif antialiased selection:bg-zinc-200">
    
<header class="py-8 lg:py-12 text-sm font-sans tracking-wide max-w-[67ch] mx-auto w-full px-4 sm:px-6">
    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 sm:gap-0">
        <a href="https://nanx.me/" class="font-medium text-ink hover:text-accent transition-colors">
            Nan Xiao
        </a>
        <nav class="flex flex-wrap gap-4 sm:gap-6 text-zinc-600">
            
            
            <a class="text-ink font-medium"
                href="https://nanx.me/blog/">
                Blog
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/software/">
                Software
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/papers/">
                Papers
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/talks/">
                Talks
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/books/">
                Books
            </a>
            
            <a class="hover:text-accent transition-colors"
                href="https://nanx.me/about/">
                About
            </a>
            
        </nav>
    </div>
</header>

<main class="content my-10 lg:my-20 max-w-[65ch] mx-auto w-full px-4 sm:px-6">
    <article>
        <header class="mb-14">
            <h1 class="text-3xl lg:text-4xl font-sans tracking-tight text-ink font-medium mb-4">stackgbm is on CRAN</h1>

            <div class="text-zinc-500 font-sans text-sm tracking-wide">
                
                
                <span class="author" title="Nan Xiao">
                    Nan Xiao
                </span>
                
                

                <span class="date middot" title='Tue Apr 30 2024 08:10:00 UTC'>
                    April 30, 2024
                </span>

                <span class="reading-time middot">
                    2 min read
                </span>

                <div class="mt-8 flex flex-wrap gap-2">
                    
                    <a href="https://nanx.me/tags/r"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        R
                    </a>
                    
                    <a href="https://nanx.me/tags/r-packages"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        R packages
                    </a>
                    
                    <a href="https://nanx.me/tags/ensemble-learning"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        ensemble learning
                    </a>
                    
                    <a href="https://nanx.me/tags/model-stacking"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        model stacking
                    </a>
                    
                    <a href="https://nanx.me/tags/gradient-boosting"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        gradient boosting
                    </a>
                    
                    <a href="https://nanx.me/tags/decision-tree"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        decision tree
                    </a>
                    
                    <a href="https://nanx.me/tags/gbdt"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        GBDT
                    </a>
                    
                    <a href="https://nanx.me/tags/xgboost"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        xgboost
                    </a>
                    
                    <a href="https://nanx.me/tags/lightgbm"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        lightgbm
                    </a>
                    
                    <a href="https://nanx.me/tags/catboost"
                        class="inline-flex items-center px-3 py-1 rounded-full bg-zinc-100 text-zinc-600 hover:bg-zinc-200 hover:text-ink transition-colors text-xs font-medium tracking-wide">
                        catboost
                    </a>
                    
                    
                    
                </div>
            </div>

        </header>

        <div class="prose prose-zinc max-w-none">
            
    


<div class="float">
<img src="https://nanx.me/image/dylan-shaw-AAVR8hB75ko-unsplash.jpg" alt="A group of sheep on Faroe Islands. Photo by Dylan Shaw." />
<div class="figcaption">A group of sheep on Faroe Islands. Photo by <a href="https://unsplash.com/photos/AAVR8hB75ko">Dylan Shaw</a>.</div>
</div>
<p>I’m happy to announce that <a href="https://nanx.me/stackgbm/">stackgbm</a>,
a minimalist R package for tree model stacking, is now on CRAN.
Model stacking is an ensemble learning method that combines the predictions from
multiple base learners to improve overall performance. stackgbm makes it easy
to stack gradient boosting decision tree (GBDT) models, which are particularly
effective for classification tasks.</p>
<p>You can install stackgbm with:</p>
<pre class="r"><code>install.packages(&quot;stackgbm&quot;)</code></pre>
<p>To install all potential dependencies to maximize stackgbm’s capabilities, see the
<a href="https://github.com/nanxstats/stackgbm/wiki/Manage-dependencies">dependency management guide</a>.</p>
<div id="why-tree-models-and-model-stacking" class="section level2">
<h2>Why tree models and model stacking</h2>
<p>Tree-based methods, especially GBDTs, are one of the most successful approaches
for modeling tabular data, similar to the transformer architecture’s impact on
sequence modeling. Naturally, ensemble tree models are a popular topic in
<a href="https://huyenchip.com/ml-interviews-book/contents/8.1.2-questions.html">machine learning interviews</a>,
where strategies for building tree ensembles are frequently discussed.</p>
<p>Model stacking takes ensemble learning a step further by combining the
strengths of multiple (possibly strong &amp; ensemble) base learners, such as GBDTs.
This approach was effective in some machine learning competitions on
Kaggle and others, making it a worthy strategy to experiment with.</p>
</div>
<div id="stacking-gbdts-with-stackgbm" class="section level2">
<h2>Stacking GBDTs with stackgbm</h2>
<p>stackgbm is a weekend project that implements a classic two-layer stacking model.
The first layer generates numerical “features” (classification probabilities)
using three popular GBDT implementations: xgboost, lightgbm, and catboost.
These features are then fed into a logistic regression model in the second layer
to produce the final classification probabilities.</p>
<p>stackgbm offers convenient wrappers for the GBDT learners. This makes the
entire flow a few consistent, canonical function calls:</p>
<pre class="r"><code>library(stackgbm)

params_xgb &lt;- cv_xgboost(x, y)
params_lgb &lt;- cv_lightgbm(x, y)
params_cat &lt;- cv_catboost(x, y)

fit &lt;- stackgbm(x, y, params = list(params_xgb, params_lgb, params_cat))

fit |&gt; predict(newx = x_test)</code></pre>
<p>stackgbm is well-suited for experimentation and research—when you don’t
want to be restricted by machine learning frameworks that require pipeline
construction in a certain way. Its design allows you to easily customize and
integrate into your own workflows, where flexibility and control are critical.</p>
</div>
<div id="simplicity-in-design" class="section level2">
<h2>Simplicity in design</h2>
<p>Model stacking is not a complicated idea, and I believe we can benefit from
keeping the software implementations simple, too.
Inspired by projects like <a href="https://github.com/karpathy/nanoGPT">nanoGPT</a>
and <a href="https://github.com/tinygrad/tinygrad">tinygrad</a>, stackgbm focuses on three
core abstractions:</p>
<ul>
<li><strong>Base learner wrappers</strong>: training and inference interfaces.</li>
<li><strong>Hyperparameter tuning</strong>: cross-validation over a parameters grid.</li>
<li><strong>Stacking algorithm</strong>: Fit a two-layer model.</li>
</ul>
<p>By striking a balance between transparency, flexibility, and performance,
I hope stackgbm could provide a useful baseline for tree model stacking,
with sensible defaults and minimal indirection.</p>
<p>For suggestions, please <a href="https://github.com/nanxstats/stackgbm/issues">create an issue</a>
or send a pull request.</p>
</div>



        </div>

        
        <nav class="pagination-nav mt-10 mb-3" aria-label="Blog post navigation">
            <div class="navigation-btns">
                
                <a href="https://nanx.me/blog/post/ggsci-protr-msaenet-release-notes-2024/" class="btn-nav btn-prev w-full">
                    <div class="btn-content">
                        <div class="pagination-nav-sublabel">Previous</div>
                        <div class="pagination-nav-label">&laquo; R Package Release Notes: ggsci, protr, and msaenet (Spring 2024)</div>
                    </div>
                </a>
                

                
                <a href="https://nanx.me/blog/post/msaenet-3-1-2/" class="btn-nav btn-next w-full">
                    <div class="btn-content">
                        <div class="pagination-nav-sublabel">Next</div>
                        <div class="pagination-nav-label">msaenet 3.1.2 and a sparse survival modeling example &raquo;</div>
                    </div>
                </a>
                
            </div>
        </nav>
        

    </article>
</main>

<section id="comments">
    <div class="py-3 content">
        <div class="mx-auto max-w-[65ch] w-full px-4 sm:px-6">
            <div class="comments">
                <script src="https://utteranc.es/client.js" repo="nanxstats/blog-comments" issue-term="pathname"
                    label="comment" theme="github-light" crossorigin="anonymous" async>
                    </script>
            </div>
        </div>
    </div>
</section>
<footer class="mt-20 mb-10 text-center font-sans text-sm text-zinc-500 tracking-wide">
    <div class="tufte-grid">
        <div class="flex flex-col items-center gap-4">
            <div class="flex flex-wrap items-center justify-center gap-x-4 gap-y-2">
                
                
                <a href="https://github.com/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">GitHub</a>
                
                
                
                
                <a href="https://www.linkedin.com/in/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">LinkedIn</a>
                
                
                <a href="https://bsky.app/profile/nanxstats.bsky.social" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">Bluesky</a>
                
                
                <a href="https://twitter.com/nanxstats" target="_blank" rel="noopener"
                    class="hover:text-accent transition-colors">Twitter</a>
                
                
                
                <a href="https://nanx.me/colophon/" class="hover:text-accent transition-colors">Colophon</a>
                
                
            </div>

            
            <div class="mt-2">
                © 2026 Nan Xiao. All rights reserved.
            </div>
            
        </div>
    </div>
</footer>


    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"
        integrity="sha512-EBLzUL8XLl+va/zAsmXwS7Z2B1F9HUHkZwyS/VKwh3S7T/U0nF4BaU29EP/ZSf6zgiIxYAnKLu6bJ8dqpmX5uw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/r.min.js" defer></script>
    
    <script>
        window.addEventListener('load', function () {
            hljs.highlightAll();
        }, true);
    </script>
    

    

    
    
    

    
</body>

</html>